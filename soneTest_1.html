<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="style2.css">
    <title>Random Anime Information</title>
    <script>
        async function getRandomAnimeInformation() {
            try {
                // Fetch the top anime list
                const response = await fetch('https://api.jikan.moe/v4/top/anime');
                if (!response.ok) throw new Error('Network response was not ok.');

                const data = await response.json();
                // Pick a random anime from the top list
                const randomAnime = data.data[Math.floor(Math.random() * data.data.length)];
                // Display the title and image of the random anime
                const animeTitle = randomAnime.title;
                const animeImage = randomAnime.images.jpg.image_url;
                let airingTimeOrStartDate = "Time data not available";

                // Check if airing details are available, otherwise use start date
                if (randomAnime.broadcast && randomAnime.broadcast.start_time) {
                    airingTimeOrStartDate = `Airing Time: ${randomAnime.broadcast.start_time}`;
                } else if (randomAnime.aired && randomAnime.aired.from) {
                    airingTimeOrStartDate = `Start Date: ${randomAnime.aired.from.split('T')[0]}`; // Extracting date part only
                }

                document.getElementById('animeTitle').innerText = `Anime: ${animeTitle}`;
                document.getElementById('animeImage').src = animeImage;
                document.getElementById('animeImage').alt = `Image of ${animeTitle}`;
                document.getElementById('timeData').innerText = airingTimeOrStartDate;
            } catch (error) {
                console.error('Failed to fetch data from Jikan API:', error);
                document.getElementById('animeTitle').innerText = 'Failed to fetch data from Jikan API';
                document.getElementById('timeData').innerText = '';
                document.getElementById('animeImage').src = '';
                document.getElementById('animeImage').alt = 'Image not available';
            }
        }
    </script>
</head>
<body>
    <h1>Random Anime Information</h1>
    <button onclick="getRandomAnimeInformation()">Get Random Anime Information</button>
    <p id="animeTitle"></p>
    <img id="animeImage" src="" alt="Anime image" style="max-width: 200px; height: auto;">
    <p id="timeData"></p>
</body>
</html>
